# Numpyを使ってランダムなデータを生成する

## detail

### 概要

ダミーデータを作成する際、少ない件数であれば手で適当に作成することもできる。

```python
>>> hoge = 123
>>> fuga = 'foo'
>>> piyo = [1, 100, 'bar', 'baz', ['ham', 'eggs', 'spam']]
>>> hoge
123
>>> fuga
'foo'
>>> piyo
[1, 100, 'bar', 'baz', ['ham', 'eggs', 'spam']]
```

これくらいなら、手動で作成するのもありだと思う。

ところが、「100件近くダミーデータが欲しい」とか「任意の順番で欠損値や空文字があるような配列が欲しい」とかだと、手動で行うには途端に難しくなる。場合によっては「正規分布に従うようなデータが欲しい」と言った場合も同様だ。よって何かしらの方法で、自動的に作成したい。そういうときはNumpyが使える。

### 件数の多いダミーデータがほしい

```python
>>> hoge = [1] * 100
>>> hoge
[1, 1, 1, （中略）, 1, 1, 1]
>>> len(hoge)
100
>>> hoge = list(range(100))
>>> hoge
[0, 1, 2, 3,（中略）, 97, 98, 99]
>>> len(hoge)
100
```

上記のような方法もあるので、単純に件数が多いだけのデータが欲しいだけならわざわざNumpyを利用する理由はないかもしれない。ところが**ランダムなデータ**が多く欲しいとなると、Numpyの出番になる。

```python
>>> import numpy as np
>>> rnd = np.random.rand()
>>> rnd
0.2267920845721343
>>> rnd = np.random.rand(10)
>>> rnd
array([0.34897338, 0.50646042, 0.82445755, 0.13532703, 0.5615308 ,
       0.99097183, 0.34604998, 0.0824444 , 0.36993365, 0.57215088])
>>> rnd = np.random.rand(3, 4)
>>> rnd
array([[0.99428626, 0.25346584, 0.11747942, 0.21326272],
       [0.68696035, 0.80780506, 0.57490197, 0.49700296],
       [0.32404102, 0.85367465, 0.20015029, 0.2259746 ]])
>>> rnd = np.random.rand(3, 2, 2)
>>> rnd
array([[[0.08126794, 0.68250418],
        [0.47870644, 0.06530604]],

       [[0.73926644, 0.47172836],
        [0.82021227, 0.74844969]],

       [[0.58009998, 0.06726452],
        [0.98567293, 0.56935939]]])
```

`numpy.random.rand()`を利用すると、0以上1未満の範囲でランダムな数値を出力する。このとき、引数は配列の要素数を指定できる。カンマで区切ると各次元の要素数を指定でき、ランダムな数値を持つ多次元配列のダミーデータを生成可能。

```python
>>> (10 - 1) * np.random.rand() + 1
3.6732961129703794
>>> (10 - 1) * np.random.rand(10) + 1
array([6.92422432, 6.96783714, 6.61130273, 8.46465412, 7.19589737,
       1.40296861, 3.79200747, 7.05247393, 1.35635717, 1.44476285])
```

なお、0以上1未満では足りない場合は` (b - a) * np.random.rand() + a`という式にすると、「a以上b未満」でランダムな小数を生成できる。

```python
>>> np.random.randint(10)
9
>>> np.random.randint(10)
1
>>> np.random.randint(1, 10, (4))
array([3, 8, 9, 3])
>>> np.random.randint(1, 10, (2, 3))
array([[5, 3, 8],
       [5, 6, 6]])
>>> np.random.randint(1, 10, (4, 3, 2))
array([[[1, 8],
        [3, 7],
        [7, 5]],

       [[2, 4],
        [7, 9],
        [4, 1]],

       [[2, 5],
        [6, 7],
        [4, 8]],

       [[4, 4],
        [3, 5],
        [9, 2]]])
>>> np.random.randint(1, 10, (4, 5))
array([[2, 1, 1, 8, 5],
       [3, 3, 8, 1, 2],
       [6, 2, 6, 2, 8],
       [4, 6, 7, 3, 6]])
```

`numpy.random.randint()`を利用すると、a以上b未満の整数でランダムな数値を生成する。引数が1つだけの場合は0以上a未満のようだ。また、タプルで次元数を指定することで多次元配列での生成も可能。

## reference

1. [NumPy, randomで様々な種類の乱数の配列を生成](https://note.nkmk.me/python-numpy-random/)
2. [numpy.random.permutation – 配列の要素をランダムに並べ替えた新しい配列を生成](https://www.headboost.jp/numpy-random-permutation/)
